import xmlrpc.client
import random, string

server = xmlrpc.client.ServerProxy("http://localhost:14880")

#Проверка работоспособности сервиса
check = server.arbeiten()
if check == "Ja Sire":
    print ("service up")
else:
    print("service down")

#Проверка функции test
try:
    server.test('admin', 'VeryHardPass')
    print ('Admin:ok')
except:
    print ('Admin:soryn, byvaet')

#Проверка функции untouchable
try:
    output = server.untouchable('echo azaza')
    if output == 'azaza':
        print('not fixed')
    else:
        print('fixed')
except:
    print('fixed')

#Проверка записи в БД. Вывод не проверить, да и хер с ним видимо.Там перебирать number придется в реальном сплоите.
try:
    message = 'asdrggbgrthtrhfvbsf='
    ch = server.new('asdrggbgrthtrhfvbsf=')
    if ch[0:19] == 'Information about secret added':
        print ("Add DB: ok")
    else:
        print('Add DB: not ok')
except:
    print('ADD DB: not ok')
